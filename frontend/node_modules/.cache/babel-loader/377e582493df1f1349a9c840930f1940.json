{"ast":null,"code":"const validator = require(\"validator\");\n\nconst validateSignUpForm = payload => {\n  const errors = {};\n  let message = \"\";\n  let isFormValid = true;\n\n  if (!payload || typeof payload.username !== \"string\" || payload.username.trim().length === 0) {\n    isFormValid = false;\n    errors.username = \"Please provide a user name.\";\n  }\n\n  if (!payload || typeof payload.email !== \"string\" || !validator.isEmail(payload.email)) {\n    isFormValid = false;\n    errors.email = \"Please provide a correct email address.\";\n  }\n\n  if (!payload || typeof payload.password !== \"string\" || payload.password.trim().length < 8) {\n    isFormValid = false;\n    errors.password = \"Password must have at least 8 characters.\";\n  }\n\n  if (!payload || payload.pwconfirm !== payload.password) {\n    isFormValid = false;\n    errors.pwconfirm = \"Password confirmation doesn't match.\";\n  }\n\n  if (!isFormValid) {\n    message = \"Check the form for errors.\";\n  }\n\n  return {\n    success: isFormValid,\n    message,\n    errors\n  };\n};\n\nconst validateLoginForm = payload => {\n  const errors = {};\n  let message = \"\";\n  let isFormValid = true;\n\n  if (!payload || typeof payload.username !== \"string\" || payload.username.trim().length === 0) {\n    isFormValid = false;\n    errors.username = \"Please provide your user name.\";\n  }\n\n  if (!payload || typeof payload.password !== \"string\" || payload.password.trim().length === 0) {\n    isFormValid = false;\n    errors.password = \"Please provide your password.\";\n  }\n\n  if (!isFormValid) {\n    message = \"Check the form for errors.\";\n  }\n\n  return {\n    success: isFormValid,\n    message,\n    errors\n  };\n};\n\nmodule.exports = {\n  validateLoginForm: validateLoginForm,\n  validateSignUpForm: validateSignUpForm\n};","map":{"version":3,"names":["validator","require","validateSignUpForm","payload","errors","message","isFormValid","username","trim","length","email","isEmail","password","pwconfirm","success","validateLoginForm","module","exports"],"sources":["/home/wanning/hackathon-project/frontend/src/components/validate.js"],"sourcesContent":["const validator = require(\"validator\");\n\nconst validateSignUpForm = payload => {\n  const errors = {};\n  let message = \"\";\n  let isFormValid = true;\n\n  if (\n    !payload ||\n    typeof payload.username !== \"string\" ||\n    payload.username.trim().length === 0\n  ) {\n    isFormValid = false;\n    errors.username = \"Please provide a user name.\";\n  }\n\n  if (\n    !payload ||\n    typeof payload.email !== \"string\" ||\n    !validator.isEmail(payload.email)\n  ) {\n    isFormValid = false;\n    errors.email = \"Please provide a correct email address.\";\n  }\n\n  if (\n    !payload ||\n    typeof payload.password !== \"string\" ||\n    payload.password.trim().length < 8\n  ) {\n    isFormValid = false;\n    errors.password = \"Password must have at least 8 characters.\";\n  }\n\n  if (!payload || payload.pwconfirm !== payload.password) {\n    isFormValid = false;\n    errors.pwconfirm = \"Password confirmation doesn't match.\";\n  }\n\n  if (!isFormValid) {\n    message = \"Check the form for errors.\";\n  }\n\n  return {\n    success: isFormValid,\n    message,\n    errors\n  };\n};\n\nconst validateLoginForm = payload => {\n  const errors = {};\n  let message = \"\";\n  let isFormValid = true;\n\n  if (\n    !payload ||\n    typeof payload.username !== \"string\" ||\n    payload.username.trim().length === 0\n  ) {\n    isFormValid = false;\n    errors.username = \"Please provide your user name.\";\n  }\n\n  if (\n    !payload ||\n    typeof payload.password !== \"string\" ||\n    payload.password.trim().length === 0\n  ) {\n    isFormValid = false;\n    errors.password = \"Please provide your password.\";\n  }\n\n  if (!isFormValid) {\n    message = \"Check the form for errors.\";\n  }\n\n  return {\n    success: isFormValid,\n    message,\n    errors\n  };\n};\n\nmodule.exports = {\n  validateLoginForm: validateLoginForm,\n  validateSignUpForm: validateSignUpForm\n};\n"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AAEA,MAAMC,kBAAkB,GAAGC,OAAO,IAAI;EACpC,MAAMC,MAAM,GAAG,EAAf;EACA,IAAIC,OAAO,GAAG,EAAd;EACA,IAAIC,WAAW,GAAG,IAAlB;;EAEA,IACE,CAACH,OAAD,IACA,OAAOA,OAAO,CAACI,QAAf,KAA4B,QAD5B,IAEAJ,OAAO,CAACI,QAAR,CAAiBC,IAAjB,GAAwBC,MAAxB,KAAmC,CAHrC,EAIE;IACAH,WAAW,GAAG,KAAd;IACAF,MAAM,CAACG,QAAP,GAAkB,6BAAlB;EACD;;EAED,IACE,CAACJ,OAAD,IACA,OAAOA,OAAO,CAACO,KAAf,KAAyB,QADzB,IAEA,CAACV,SAAS,CAACW,OAAV,CAAkBR,OAAO,CAACO,KAA1B,CAHH,EAIE;IACAJ,WAAW,GAAG,KAAd;IACAF,MAAM,CAACM,KAAP,GAAe,yCAAf;EACD;;EAED,IACE,CAACP,OAAD,IACA,OAAOA,OAAO,CAACS,QAAf,KAA4B,QAD5B,IAEAT,OAAO,CAACS,QAAR,CAAiBJ,IAAjB,GAAwBC,MAAxB,GAAiC,CAHnC,EAIE;IACAH,WAAW,GAAG,KAAd;IACAF,MAAM,CAACQ,QAAP,GAAkB,2CAAlB;EACD;;EAED,IAAI,CAACT,OAAD,IAAYA,OAAO,CAACU,SAAR,KAAsBV,OAAO,CAACS,QAA9C,EAAwD;IACtDN,WAAW,GAAG,KAAd;IACAF,MAAM,CAACS,SAAP,GAAmB,sCAAnB;EACD;;EAED,IAAI,CAACP,WAAL,EAAkB;IAChBD,OAAO,GAAG,4BAAV;EACD;;EAED,OAAO;IACLS,OAAO,EAAER,WADJ;IAELD,OAFK;IAGLD;EAHK,CAAP;AAKD,CA9CD;;AAgDA,MAAMW,iBAAiB,GAAGZ,OAAO,IAAI;EACnC,MAAMC,MAAM,GAAG,EAAf;EACA,IAAIC,OAAO,GAAG,EAAd;EACA,IAAIC,WAAW,GAAG,IAAlB;;EAEA,IACE,CAACH,OAAD,IACA,OAAOA,OAAO,CAACI,QAAf,KAA4B,QAD5B,IAEAJ,OAAO,CAACI,QAAR,CAAiBC,IAAjB,GAAwBC,MAAxB,KAAmC,CAHrC,EAIE;IACAH,WAAW,GAAG,KAAd;IACAF,MAAM,CAACG,QAAP,GAAkB,gCAAlB;EACD;;EAED,IACE,CAACJ,OAAD,IACA,OAAOA,OAAO,CAACS,QAAf,KAA4B,QAD5B,IAEAT,OAAO,CAACS,QAAR,CAAiBJ,IAAjB,GAAwBC,MAAxB,KAAmC,CAHrC,EAIE;IACAH,WAAW,GAAG,KAAd;IACAF,MAAM,CAACQ,QAAP,GAAkB,+BAAlB;EACD;;EAED,IAAI,CAACN,WAAL,EAAkB;IAChBD,OAAO,GAAG,4BAAV;EACD;;EAED,OAAO;IACLS,OAAO,EAAER,WADJ;IAELD,OAFK;IAGLD;EAHK,CAAP;AAKD,CAhCD;;AAkCAY,MAAM,CAACC,OAAP,GAAiB;EACfF,iBAAiB,EAAEA,iBADJ;EAEfb,kBAAkB,EAAEA;AAFL,CAAjB"},"metadata":{},"sourceType":"module"}